package app.groceryapp.ui.custom;import android.content.Context;import android.util.AttributeSet;import android.view.View;import android.widget.Button;import android.widget.ImageView;import android.widget.LinearLayout;import android.widget.RelativeLayout;import android.widget.TextView;import app.groceryapp.R;public class GroceryAddItemLayout extends RelativeLayout {    private TextView tv_item_count;    private Button btn_add;    private ImageView iv_decrement;    private ImageView iv_increment;    private LinearLayout ll_item_counter;    private final static int minItemCount = 1;    private int maxItemCount = 20;    private GroceryAddItemLayoutListener listener;    public interface GroceryAddItemLayoutListener {        void onMaxItemCountReached();        void onItemCountChanged(int itemsCount);    }    public GroceryAddItemLayout(Context context) {        super(context);        init();    }    public GroceryAddItemLayout(Context context, AttributeSet attrs) {        super(context, attrs);        init();    }    public GroceryAddItemLayout(Context context, AttributeSet attrs, int defStyleAttr) {        super(context, attrs, defStyleAttr);        init();    }    public GroceryAddItemLayout(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {        super(context, attrs, defStyleAttr, defStyleRes);        init();    }    private void init() {        View rootView = inflate(getContext(), R.layout.layout_custom_items_add, this);        tv_item_count = rootView.findViewById(R.id.tv_item_count);        btn_add = rootView.findViewById(R.id.btn_add);        iv_increment = rootView.findViewById(R.id.iv_increment);        iv_decrement = rootView.findViewById(R.id.iv_decrement);        ll_item_counter = rootView.findViewById(R.id.ll_item_counter);        iv_increment.setOnClickListener(view -> incrementValue());        iv_decrement.setOnClickListener(view -> decrementValue());        btn_add.setOnClickListener(view -> setItemCount());    }    public void setMaxItemCount(int maxItemCount) {        this.maxItemCount = maxItemCount;    }    public void setListener(GroceryAddItemLayoutListener listener) {        this.listener = listener;    }    public void reSetItemCount() {        btn_add.setVisibility(View.VISIBLE);        ll_item_counter.setVisibility(View.GONE);        tv_item_count.setText(String.valueOf(0));    }    public void setItemCount() {        btn_add.setVisibility(View.GONE);        ll_item_counter.setVisibility(View.VISIBLE);        tv_item_count.setText(String.valueOf(1));    }    private void incrementValue() {        int currentVal = Integer.parseInt(tv_item_count.getText().toString());        if(currentVal < maxItemCount) {            tv_item_count.setText(String.valueOf(currentVal + 1));            onItemCountChanged();        } else {            if(listener != null) {                listener.onMaxItemCountReached();            }        }    }    private void decrementValue() {        int newValue = Integer.parseInt(tv_item_count.getText().toString()) - 1;        if(newValue >= minItemCount) {            tv_item_count.setText(String.valueOf(newValue));        } else {            reSetItemCount();        }        onItemCountChanged();    }    private void onItemCountChanged() {        int itemsCount = Integer.parseInt(tv_item_count.getText().toString());        if(listener != null) {            listener.onItemCountChanged(itemsCount);        }    }}